{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "pretrain_libero",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "justMyCode": true,
            "env": {
                "RANK": "0",
                "WORLD_SIZE": "1",
                "MASTER_ADDR": "127.0.0.1",
                "MASTER_PORT": "29506"
            },
            "args":[
                "--traj_cons",
                "--rgb_pad", "10",
                "--gripper_pad", "4",
                "--gradient_accumulation_steps", "8",
                "--bf16_module", "vision_encoder",
                "--vit_checkpoint_path", "/inspire/hdd/project/robotsimulation/guchun-240107140023/Hanzhe/Seer/checkpoints/mae_pretrain_vit_base.pth",
                "--workers", "0",
                "--lr_scheduler", "cosine",
                "--save_every_iter", "100000",
                "--num_epochs", "30",
                "--seed", "42",
                "--batch_size", "10",
                "--precision", "fp32",
                "--learning_rate", "1e-4",
                "--save_checkpoint",
                "--finetune_type", "libero_pretrain",
                "--root_dir", ".",
                "--wandb_project", "seer",
                "--weight_decay", "1e-4",
                "--num_resampler_query", "16",
                "--num_obs_token_per_image", "9",
                "--run_name", "pretrain_Seer-Large_libero",
                "--save_checkpoint_path", "checkpoints/debug",
                "--transformer_layers", "24",
                "--hidden_dim", "1024",
                "--transformer_heads", "16",
                "--phase", "pretrain",
                "--obs_pred",
                "--sequence_length", "11",
                "--action_pred_steps", "3",
                "--future_steps", "3",
                "--atten_goal", "4",
                "--window_size", "11",
                "--loss_image",
                "--loss_action",
                "--gripper_width",
                "--atten_only_obs",
                "--atten_goal_state",
                "--mask_l_obs_ratio", "0.5",
                "--warmup_epochs", "1",
                "--attn_robot_proprio_state",
                "--attn_implementation", "sdpa",
                "--libero_path", "libero_90_converted",
                //"--report_to_wandb"
            ]
        },

        {
            "name": "finetune_libero",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "justMyCode": true,
            "env": {
                "RANK": "0",
                "WORLD_SIZE": "1",
                "MASTER_ADDR": "127.0.0.1",
                "MASTER_PORT": "29507"
            },
            "args":[
                "--traj_cons",
                "--rgb_pad", "10",
                "--gripper_pad", "4",
                "--gradient_accumulation_steps", "4",
                "--bf16_module", "vision_encoder",
                "--vit_checkpoint_path", "checkpoints/vit_mae/mae_pretrain_vit_base.pth",
                "--workers", "0",
                "--lr_scheduler", "cosine",
                "--save_every_iter", "100000",
                "--num_epochs", "40",
                "--seed", "42",
                "--batch_size", "16",
                "--precision", "fp32",
                "--learning_rate", "1e-3",
                "--save_checkpoint",
                "--finetune_type", "libero_finetune",
                "--root_dir", ".",
                "--wandb_project", "seer",
                "--weight_decay", "1e-4",
                "--num_resampler_query", "6",
                "--run_name", "libero_finetune",
                "--save_checkpoint_path", "checkpoints/debug/",
                "--transformer_layers", "24",
                "--phase", "finetune",
                "--obs_pred",
                "--action_pred_steps", "3",
                "--sequence_length", "7",
                "--future_steps", "3",
                "--window_size", "10",
                "--loss_image",
                "--loss_action",
                "--reset_action_token",
                "--reset_obs_token",
                "--save_checkpoint_seq", "1",
                "--start_save_checkpoint", "25",
                "--gripper_width",
                "--warmup_epochs", "5",
                "--libero_path", "libero_goal_converted",
                "--finetune_from_pretrained_ckpt", "checkpoints/libero_pretrain_small.pth",
                //"--report_to_wandb",
                "--use_dit_head",
                "--load_track_labels",
                //"--load_dino_features",
                "--load_sam_features",
                //"--dino_feat_pred",
                "--sam_feat_pred",
                //"--depth_pred",
                "--trajectory_pred",
                //"--loss_depth",
                //"--loss_dino_feat",
                "--loss_sam_feat",
                //"--loss_trajectory",
                "--flow_as_mask",
                "--use_fm"
            ]
        },

        {
            "name": "eval_libero",
            "type": "python",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "justMyCode": true,
            "env": {
                "RANK": "0",
                "WORLD_SIZE": "1",
                "MASTER_ADDR": "127.0.0.1",
                "MASTER_PORT": "29507"
            },
            "args":[
                "--traj_cons",
                "--rgb_pad", "10",
                "--gripper_pad", "4",
                "--gradient_accumulation_steps", "1",
                "--bf16_module", "vision_encoder",
                "--vit_checkpoint_path", "checkpoints/vit_mae/mae_pretrain_vit_base.pth",
                "--calvin_dataset", "",
                "--libero_path", "LIBERO",
                "--workers", "16",
                "--lr_scheduler", "cosine",
                "--save_every_iter", "50000",
                "--num_epochs", "20",
                "--seed", "42",
                "--batch_size", "64",
                "--precision", "fp32",
                "--weight_decay", "1e-4",
                "--num_resampler_query", "16",
                "--run_name", "test",
                "--transformer_layers", "24",
                "--phase", "evaluate",
                "--finetune_type", "libero_spatial",
                "--save_checkpoint_path", "eval_debug",
                "--action_pred_steps", "3",
                "--future_steps", "3",
                "--sequence_length", "7",
                "--obs_pred",
                "--gripper_width",
                "--eval_libero_ensembling",
                "--use_dit_head",
                "--load_track_labels",
                "--load_sam_features",
                "--sam_feat_pred",
                "--loss_sam_feat",
                "--flow_as_mask",

                "--hidden_dim", "1024",
                "--transformer_heads", "16",
                "--use_fm",

                "--resume_from_checkpoint", "checkpoints/finetune_DreamVLA_large_libero/libero_finetune_sdpa_goal_fm/39.pth"
            ]
        }
    ]
}